<!-- Card for travel time between User city and first destinations -->
<% if i == 0 %>
  <div class="card-itinerary background-green d-flex flex-column">
    <p><%= i +1 %>.From <%= @user.city %> to <%= d.city %>:</p>
    <% if @travel_time.present? %>
      <p>Travel time: <%= "#{travel_time[:hours]} hours #{travel_time[:minutes]} minutes #{travel_time[:seconds]} seconds" %></p>
    <% else %>
      <p>Travel time could not be calculated</p>
    <% end %>
  </div>

  <%= render partial: 'destination_card', locals: { d: d, i: i } %>

  <%= render partial: 'travel_time', locals: { d: d, i: i } %>
  
<% elsif i < @itinerary.destinations.size - 1 %>
  
  <%= render partial: 'destination_card', locals: { d: d, i: i } %>

  <%= render partial: 'travel_time', locals: { d: d, i: i } %>
   
<% else %>
  
  <%= render partial: 'destination_card', locals: { d: d, i: i } %>

<% end %>
<%= javascript_include_tag 'static_map' %>

